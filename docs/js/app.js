(function(t){function a(a){for(var s,r,o=a[0],l=a[1],c=a[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(a);while(m.length)m.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],s=!0,o=1;o<e.length;o++){var l=e[o];0!==i[l]&&(s=!1)}s&&(n.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},i={app:0},n=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/stock-management/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=a,o=o.slice();for(var c=0;c<o.length;c++)a(o[c]);var u=l;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);var s=e("2b0e"),i=e("7496"),n=e("40dc"),r=e("8336"),o=e("132d"),l=e("f6c4"),c=e("2fa4"),u=e("71a3"),d=e("fe57"),m=function(){var t=this,a=t._self._c;return a(i["a"],[a(n["a"],{attrs:{app:"",color:"light-green darken-2",dark:""}},[[a(d["a"],[a(u["a"],{attrs:{to:"/"}},[t._v(" 在庫管理 ")])],1)],a(c["a"]),a(r["a"],{attrs:{icon:"",to:"/settings"}},[a(o["a"],[t._v("mdi-cog")])],1)],2),a(l["a"],[a("router-view")],1)],1)},_=[],h={name:"App",data:()=>({})},g=h,p=e("2877"),f=Object(p["a"])(g,m,_,!1,null,null,null),b=f.exports,x=e("8c4f"),v=e("b0af"),k=e("62ad"),y=e("a523"),w=e("0fd9"),C=e("2db4"),$=function(){var t=this,a=t._self._c;return a(y["a"],[a("draggable",{attrs:{options:{animation:150,delay:0,handle:".handle"}},on:{end:t.drag_update},model:{value:t.items,callback:function(a){t.items=a},expression:"items"}},[0!=t.items.length||t.loading?t._l(t.items,(function(e,s){return a(k["a"],{key:s,staticClass:"pb-0"},[a(v["a"],{attrs:{elevation:"0"}},[a(w["a"],{attrs:{align:"center",justify:"center"}},[a(k["a"],{staticClass:"handle",attrs:{cols:"auto"}},[a(o["a"],[t._v("mdi-drag-horizontal")])],1),a(k["a"],{attrs:{cols:"7"}},[a("p",{staticClass:"mb-0 text-caption"},[t._v(t._s(t.get_gauge(e)))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.name))])]),a(k["a"],{attrs:{cols:"auto"}},[a(w["a"],[a(k["a"],{staticClass:"pr-0",attrs:{cols:"auto"}},[a(r["a"],{attrs:{icon:""},on:{click:function(a){return t.edit_item(e)}}},[a(o["a"],[t._v("mdi-pencil")])],1)],1),a(k["a"],{staticClass:"pl-0",attrs:{cols:"auto"}},[a(r["a"],{attrs:{icon:""},on:{click:function(a){return t.delete_item(e)}}},[a(o["a"],[t._v("mdi-delete")])],1)],1)],1),a("p",{staticClass:"mb-0 text-caption text-center"},[t._v(t._s(t.$dayjs(e.update).format("YYYY-MM-DD")))])],1)],1)],1)],1)})):a(k["a"],[a("p",{staticClass:"text-center"},[t._v("表示する項目がありません。")])])],2),a(r["a"],{staticClass:"mb-15 mr-5",attrs:{color:"light-green",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:t.add_item}},[a(o["a"],{attrs:{size:"32"}},[t._v(" mdi-plus ")])],1),a("Edit",{ref:"edit",on:{parentMethod:t.save_item}}),a("Confirm",{ref:"confirm"}),t.loading?a("vue-loading",{staticClass:"mt-5",attrs:{type:"bubbles",color:"#8BC34A",size:{width:"50px",height:"50px"}}}):t._e(),a(C["a"],{attrs:{color:"success"},scopedSlots:t._u([{key:"action",fn:function({attrs:e}){return[a(r["a"],t._b({attrs:{icon:"",color:"white"},on:{click:function(a){t.snackbar=!1}}},"v-btn",e,!1),[a(o["a"],[t._v("mdi-close")])],1)]}}]),model:{value:t.snackbar_settings.snackbar,callback:function(a){t.$set(t.snackbar_settings,"snackbar",a)},expression:"snackbar_settings.snackbar"}},[a(w["a"],{attrs:{align:"center"}},[a(k["a"],{staticClass:"pr-0",attrs:{cols:"auto"}},[a(o["a"],{attrs:{small:""}},[t._v("mdi-check-circle")])],1),a(k["a"],{attrs:{cols:"auto"}},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.snackbar_settings.message))])])],1)],1)],1)},q=[],j=(e("14d9"),e("99d9")),M=e("ac7c"),O=e("169a"),S=e("ce7e"),T=e("4bd4"),A=e("8654"),Y=function(){var t=this,a=t._self._c;return a(O["a"],{attrs:{persistent:"","max-width":"400"},model:{value:t.show_edit,callback:function(a){t.show_edit=a},expression:"show_edit"}},[a(v["a"],[a(T["a"],{ref:"form",model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[a(j["c"],[t._v(t._s(t.title))]),a(S["a"]),a(j["b"],{staticClass:"mt-5"},[a(w["a"],{attrs:{align:"center"}},[a(k["a"],{attrs:{cols:"6"}},[a("p",{staticClass:"mb-0 text-caption"},[t._v("在庫数")]),a("p",{staticClass:"mb-0"},[t._v(t._s(t.get_gauge(t.item)))])]),a(k["a"],{attrs:{cols:"6"}},[a(w["a"],{attrs:{align:"center",justify:"end"}},[a(k["a"],{staticClass:"pr-0",attrs:{cols:"auto"}},[a(r["a"],{attrs:{icon:""},on:{click:function(a){t.item.quantity=Math.max(t.item.quantity-1,t.MIN_QUANTITY)}}},[a(o["a"],[t._v("mdi-minus")])],1)],1),a(k["a"],{attrs:{cols:"4"}},[a("p",{staticClass:"mb-0 text-center"},[t._v(t._s(t.item.quantity))])]),a(k["a"],{staticClass:"pl-0",attrs:{cols:"auto"}},[a(r["a"],{attrs:{icon:""},on:{click:function(a){t.item.quantity=Math.min(t.item.quantity+1,t.MAX_QUANTITY)}}},[a(o["a"],[t._v("mdi-plus")])],1)],1)],1)],1)],1),a(A["a"],{staticClass:"mt-5",attrs:{label:"項目名",color:"light-green darken-1",rules:[t.required]},model:{value:t.item.name,callback:function(a){t.$set(t.item,"name",a)},expression:"item.name"}}),a(M["a"],{attrs:{label:"使用中",color:"light-green"},model:{value:t.item.is_using,callback:function(a){t.$set(t.item,"is_using",a)},expression:"item.is_using"}})],1),a(j["a"],{staticClass:"justify-end pt-4"},[a(r["a"],{attrs:{color:"light-green darken-3",text:""},on:{click:function(a){return t.close(!0)}}},[t._v(" キャンセル ")]),a(r["a"],{attrs:{color:"light-green darken-3",text:""},on:{click:t.save}},[t._v(" "+t._s(t.button_label)+" ")])],1)],1)],1),a("Confirm",{ref:"confirm"})],1)},I=[],P=function(){var t=this,a=t._self._c;return a(O["a"],{attrs:{persistent:"","max-width":"380"},model:{value:t.show_confirm,callback:function(a){t.show_confirm=a},expression:"show_confirm"}},[a(v["a"],[a(j["c"],{staticClass:"text-h6 text-weight-black"},[a(o["a"],{staticClass:"mr-3",attrs:{color:"red"}},[t._v("mdi-alert")]),a("p",{staticClass:"mb-0 text-subtitle-1"},[t._v(t._s(t.message))])],1),a(j["a"],[a(c["a"]),a(r["a"],{attrs:{color:"green darken-1",text:""},on:{click:function(a){return t.$emit("answer",!1)}}},[t._v(" いいえ ")]),a(r["a"],{attrs:{color:"green darken-1",text:""},on:{click:function(a){return t.$emit("answer",!0)}}},[t._v(" はい ")])],1)],1)],1)},D=[],z={name:"Confirm",data(){return{show_confirm:!1,message:""}},methods:{confirm(t){return this.message=t,this.show_confirm=!0,new Promise(t=>{this.$once("answer",a=>{this.show_confirm=!1,t(a)})})}}},E=z,N=Object(p["a"])(E,P,D,!1,null,null,null),L=N.exports,U={name:"Edit",components:{Confirm:L},data(){return{show_edit:!1,title:"",button_label:"",valid:!0,item:{id:"",name:null,quantity:0,is_using:!1,update:null},initial_name:null,initial_quantity:null,initial_is_using:null,required:t=>!!t||"必ず入力してください"}},computed:{MAX_QUANTITY:()=>99,MIN_QUANTITY:()=>0},methods:{open(t){this.show_edit=!0,""==t.name?(this.title="データ追加",this.button_label="追加"):(this.title="データ編集",this.button_label="更新"),this.item=JSON.parse(JSON.stringify(t)),this.initial_name=this.item.name,this.initial_quantity=this.item.quantity,this.initial_is_using=this.item.is_using,this.$refs.form&&this.$refs.form.resetValidation()},save(){this.$refs.form.validate()&&(this.item.update=this.$dayjs().format("YYYY-MM-DD"),this.$emit("parentMethod",this.item),this.show_edit=!1)},async close(){this.is_change()?await this.$refs.confirm.confirm("変更を破棄しますか？")&&(this.show_edit=!1):this.show_edit=!1},is_change(){let t=!1;return this.item.name==this.initial_name&&this.item.quantity==this.initial_quantity&&this.item.is_using==this.initial_is_using||(t=!0),t},get_gauge(t){let a="在庫なし";return t.quantity>0&&(t.is_using?(a="☆",a+="★".repeat(t.quantity-1)):a="★".repeat(t.quantity)),a}}},J=U,V=Object(p["a"])(J,Y,I,!1,null,null,null),Q=V.exports,F=e("d523"),B=e("b76a"),H=e.n(B),X={name:"Home",components:{draggable:H.a,Edit:Q,Confirm:L,VueLoading:F["VueLoading"]},data(){return{loading:!1,snackbar_settings:{snackbar:!1,message:""},items:[]}},methods:{add_item(){this.snackbar_settings.snackbar=!1;const t={id:"",name:"",quantity:0,is_using:!1,update:""};this.$refs.edit.open(t)},edit_item(t){this.snackbar_settings.snackbar=!1,this.$refs.edit.open(t)},save_item(t){if(""==t.id)t.id=this.create_uuid().slice(0,8),this.items.push(t),this.snackbar_settings.message="データを追加しました。",this.snackbar_settings.snackbar=!0;else{const a=this.items.findIndex(a=>a.id==t.id);this.items[a].name=t.name,this.items[a].quantity=t.quantity,this.items[a].is_using=t.is_using,this.items[a].update=t.update,this.snackbar_settings.message="データを更新しました。",this.snackbar_settings.snackbar=!0}this.$gas.update_data(t)},async delete_item(t){this.snackbar_settings.snackbar=!1,await this.$refs.confirm.confirm("「"+t.name+"」を削除しますか？")&&(this.items=this.items.filter(a=>a.id!=t.id),this.$gas.delete_data(t),this.snackbar_settings.message="データを削除しました。",this.snackbar_settings.snackbar=!0)},drag_update(){this.$gas.update_list(this.items)},create_uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let a=((new Date).getTime()+16*Math.random())%16|0,e="x"==t?a:3&a|8;return e.toString(16)})},get_gauge(t){let a="在庫なし";if(t.quantity>0){t.is_using?(a="☆",a+="★".repeat(t.quantity-1)):a="★".repeat(t.quantity);let e=(a.match(/★/g)||[]).length;a+="("+e+")"}return a},async initialize(){this.loading=!0;const t=await this.$gas.fetch_data();t&&Array.isArray(t.data)&&(this.items=t.data),this.loading=!1}},mounted(){console.log("mouted!"),this.initialize()}},R=X,G=Object(p["a"])(R,$,q,!1,null,null,null),K=G.exports,W=function(){var t=this,a=t._self._c;return a(y["a"],[a("draggable",{attrs:{options:{animation:150,delay:0,handle:".handle"}},on:{end:t.drag_update},model:{value:t.items,callback:function(a){t.items=a},expression:"items"}},[0!=t.items.length||t.loading?t._l(t.items,(function(e,s){return a(k["a"],{key:s,staticClass:"pb-0"},[a(v["a"],{attrs:{elevation:"0"}},[a(w["a"],{attrs:{align:"center",justify:"center"}},[a(k["a"],{staticClass:"handle",attrs:{cols:"auto"}},[a(o["a"],[t._v("mdi-drag-horizontal")])],1),a(k["a"],{attrs:{cols:"7"}},[a("p",{staticClass:"mb-0 text-caption"},[t._v(t._s(t.get_gauge(e)))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.name))])]),a(k["a"],{attrs:{cols:"auto"}},[a(w["a"],[a(k["a"],{staticClass:"pr-0",attrs:{cols:"auto"}},[a(r["a"],{attrs:{icon:""},on:{click:function(a){return t.edit_item(e)}}},[a(o["a"],[t._v("mdi-pencil")])],1)],1),a(k["a"],{staticClass:"pl-0",attrs:{cols:"auto"}},[a(r["a"],{attrs:{icon:""},on:{click:function(a){return t.delete_item(e)}}},[a(o["a"],[t._v("mdi-delete")])],1)],1)],1),a("p",{staticClass:"mb-0 text-caption text-center"},[t._v(t._s(t.$dayjs(e.update).format("YYYY-MM-DD")))])],1)],1)],1)],1)})):a(k["a"],[a("p",{staticClass:"text-center"},[t._v("表示する項目がありません。")])])],2),a(r["a"],{staticClass:"mb-15 mr-5",attrs:{color:"light-green",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:t.add_item}},[a(o["a"],{attrs:{size:"32"}},[t._v(" mdi-plus ")])],1),a("Edit",{ref:"edit",on:{parentMethod:t.save_item}}),a("Confirm",{ref:"confirm"}),t.loading?a("vue-loading",{staticClass:"mt-5",attrs:{type:"bubbles",color:"#8BC34A",size:{width:"50px",height:"50px"}}}):t._e(),a(C["a"],{attrs:{color:"success"},scopedSlots:t._u([{key:"action",fn:function({attrs:e}){return[a(r["a"],t._b({attrs:{icon:"",color:"white"},on:{click:function(a){t.snackbar=!1}}},"v-btn",e,!1),[a(o["a"],[t._v("mdi-close")])],1)]}}]),model:{value:t.snackbar_settings.snackbar,callback:function(a){t.$set(t.snackbar_settings,"snackbar",a)},expression:"snackbar_settings.snackbar"}},[a(w["a"],{attrs:{align:"center"}},[a(k["a"],{staticClass:"pr-0",attrs:{cols:"auto"}},[a(o["a"],{attrs:{small:""}},[t._v("mdi-check-circle")])],1),a(k["a"],{attrs:{cols:"auto"}},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.snackbar_settings.message))])])],1)],1)],1)},Z=[],tt={name:"Memo",components:{draggable:H.a,Edit:Q,Confirm:L,VueLoading:F["VueLoading"]},data(){return{loading:!1,snackbar_settings:{snackbar:!1,message:""},items:[]}},methods:{add_item(){this.snackbar_settings.snackbar=!1;const t={id:"",name:"",quantity:0,is_using:!1,update:""};this.$refs.edit.open(t)},edit_item(t){this.snackbar_settings.snackbar=!1,this.$refs.edit.open(t)},save_item(t){if(""==t.id)t.id=this.create_uuid().slice(0,8),this.items.push(t),this.snackbar_settings.message="データを追加しました。",this.snackbar_settings.snackbar=!0;else{const a=this.items.findIndex(a=>a.id==t.id);this.items[a].name=t.name,this.items[a].quantity=t.quantity,this.items[a].is_using=t.is_using,this.items[a].update=t.update,this.snackbar_settings.message="データを更新しました。",this.snackbar_settings.snackbar=!0}this.$gas.update_data(t)},async delete_item(t){this.snackbar_settings.snackbar=!1,await this.$refs.confirm.confirm("「"+t.name+"」を削除しますか？")&&(this.items=this.items.filter(a=>a.id!=t.id),this.$gas.delete_data(t),this.snackbar_settings.message="データを削除しました。",this.snackbar_settings.snackbar=!0)},drag_update(){this.$gas.update_list(this.items)},create_uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let a=((new Date).getTime()+16*Math.random())%16|0,e="x"==t?a:3&a|8;return e.toString(16)})},get_gauge(t){let a="在庫なし";if(t.quantity>0){t.is_using?(a="☆",a+="★".repeat(t.quantity-1)):a="★".repeat(t.quantity);let e=(a.match(/★/g)||[]).length;a+="("+e+")"}return a},async initialize(){this.loading=!0;const t=await this.$gas.fetch_data();Array.isArray(t.data)&&(this.items=t.data),this.loading=!1}},mounted(){console.log("mouted!"),this.initialize()}},at=tt,et=Object(p["a"])(at,W,Z,!1,null,null,null),st=et.exports,it=function(){var t=this,a=t._self._c;return a(y["a"],[a("p",[t._v("※設定はこのデバイスのみに保存されます。")]),a(T["a"],{model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[a("h3",[t._v("アプリ設定")]),a(A["a"],{attrs:{label:"API URL",color:"light-green darken-1",rules:[t.required]},model:{value:t.api_url,callback:function(a){t.api_url=a},expression:"api_url"}}),a(w["a"],{staticClass:"pt-4",attrs:{justify:"end"}},[a(k["a"],{attrs:{cols:"auto"}},[a(r["a"],{attrs:{color:"light-green",disabled:!t.valid},on:{click:t.save}},[a("p",{staticClass:"mb-0",staticStyle:{color:"#FFF"}},[t._v("保存")])])],1)],1)],1),a(C["a"],{staticClass:"mb-5",model:{value:t.is_save,callback:function(a){t.is_save=a},expression:"is_save"}},[t._v("保存しました。")])],1)},nt=[],rt={name:"Settings",data(){return{valid:!1,api_url:"",is_save:!1,required:t=>!!t||"必ず入力してください"}},methods:{save(){this.is_save=!0,localStorage.setItem("api_url",this.api_url)}},mounted(){this.api_url=localStorage.getItem("api_url")}},ot=rt,lt=Object(p["a"])(ot,it,nt,!1,null,null,null),ct=lt.exports;s["default"].use(x["a"]);const ut=[{path:"/",name:"Home",component:K},{path:"/memo",name:"Memo",component:st},{path:"/settings",name:"Settings",component:ct}],dt=new x["a"]({routes:ut});var mt=dt,_t=e("f309");s["default"].use(_t["a"]);var ht=new _t["a"]({}),gt=e("bc3a");const pt=gt["a"].create({headers:{"content-type":"application/x-www-form-urlencoded"}}),ft=localStorage.getItem("api_url")?localStorage.getItem("api_url"):"",bt=t=>{if(""!=ft)return console.log(t),fetch(ft,{method:"POST",mode:"no-cors","Content-Type":"application/x-www-form-urlencoded",body:JSON.stringify(t)})},xt=()=>{if(""!=ft)return pt.get(ft)},vt=t=>{const a={method:"DELETE",params:{item:t}};return bt(a)},kt=t=>{const a={method:"UPDATE",params:{item:t}};return bt(a)},yt=t=>{const a={method:"UPDATE_LIST",params:{items:t}};return bt(a)};var wt={fetch_func:bt,fetch_data:xt,delete_data:vt,update_data:kt,update_list:yt},Ct=e("5a0c"),$t=e.n(Ct);e("5999");s["default"].prototype.$gas=wt,$t.a.locale("ja"),s["default"].prototype.$dayjs=$t.a,s["default"].config.productionTip=!1,new s["default"]({router:mt,vuetify:ht,render:t=>t(b)}).$mount("#app")}});